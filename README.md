# Модуль 2, блок 6. Практические задания после вебинара

## Задание

Ссылка: [здесь](./TASK.md)

## Решение

- Ansible-роль, создающая пользователя с аутентификацией по ключу - [здесь](./roles/users/)
- Ansible-роль, настраивающая backend  php-fpm - [здесь](./roles/php/)
- Ansible-роль, настраивающая frontend php-fpm - [здесь](./roles/http/)

### Примечание

- бэкенды php-fpm для фронтенда nginx настраиваются на основе группы *php_fpm* из инвентаря. При необходимости имя группы меняется в переменных роли
- на фронтенде отдача статических файлов обрабатывается фронтендом, php-файлы - бэкендами
- на фронтенде закономерно исключена предварительная проверка наличия "php-файла" (на самом фронтенде) 
  перед отработкой файла на стороне бэкенда: имеет смысл существование и содержимое php-файлов только на бэкендах,
  где эти файлы и обрабатываются


```
# Заполняем перечень удаленных хостов для выполнения задания
vi hosts

# Конфигурируем супер-запуск
vi site.yml

# Запускаем настройку
ansible-playbook site.yml -i hosts

```

## Проверка

Выводы проверочных команд: [здесь](./check-results/),
где первая строка в файле - проверочная команда, инициировавшая вывод.
